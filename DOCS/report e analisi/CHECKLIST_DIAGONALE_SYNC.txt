═══════════════════════════════════════════════════════════════════════════════
🧪 CHECKLIST DIAGONALE - VALIDAZIONE SYNC & REFRESH (STEP 3)
═══════════════════════════════════════════════════════════════════════════════
Data: 30/09/2025 15:54
Scope: Test manuali per ottimizzazioni sincronizzazione
Status: READY FOR TESTING

──────────────────────────────────────────────────────────────────────────────
🔧 SETUP TESTING
──────────────────────────────────────────────────────────────────────────────

PREREQUISITI:
✅ App avviata in locale: npm run dev
✅ Browser DevTools aperto (Console + Network)
✅ Test su Chrome/Safari desktop + mobile simulator
- [ ] Multiple tabs/windows per test cross-user

──────────────────────────────────────────────────────────────────────────────
🎯 TEST SYNC CORE
──────────────────────────────────────────────────────────────────────────────

LOGIN/NOME UTENTE:
- [ ] Login nuovo utente → nome immediato in UI (no refresh)
- [ ] Switch utente → nome aggiornato istantaneamente
- [ ] Logout/login → sessione pulita, no dati precedenti
- [ ] Nome utente visibile in header/profile senza delay

REGISTRAZIONE VINO:
- [ ] Registra vino → appare subito nella lista event details
- [ ] Progress bar aggiornata immediatamente
- [ ] Counter vini aggiornato senza refresh
- [ ] Vino visibile per altri utenti (test multi-tab)

VOTAZIONI ADMIN:
- [ ] Admin "Start voting" → utenti vedono subito CTA corretta
- [ ] Admin "Stop voting" → CTA scompare immediatamente
- [ ] Status evento aggiornato cross-user
- [ ] Bottoni admin riflettono stato corretto

VOTO SINGOLO:
- [ ] Vota vino → progress bar aggiornata in tempo reale
- [ ] Score visibile immediatamente nella card
- [ ] Classifica aggiornata senza refresh
- [ ] Altri utenti vedono il voto (test multi-tab)

──────────────────────────────────────────────────────────────────────────────
📱 TEST MOBILE & TOUCH
──────────────────────────────────────────────────────────────────────────────

PAGINA VOTAZIONI:
- [ ] BottomNavBar presente e funzionante
- [ ] Bottoni Home/Back/Admin posizionati correttamente
- [ ] No bottoni duplicati in alto
- [ ] Safe area rispettata su iOS

MODALE VOTO:
- [ ] Modale centrato e fisso (no drift al touch)
- [ ] Scroll picker verticale fluido
- [ ] Touch solo su picker, resto del modale fisso
- [ ] Bottoni Annulla/Conferma accessibili
- [ ] Chiusura con backdrop/ESC funzionante

──────────────────────────────────────────────────────────────────────────────
📡 TEST NETWORK & FOCUS
──────────────────────────────────────────────────────────────────────────────

FOCUS/VISIBILITY:
- [ ] App in background 15s → al rientro dati freschi
- [ ] Tab switch → refetch opportunistico
- [ ] Window focus → query "calde" aggiornate
- [ ] No spam di richieste (max 1 ogni 30s)

NETWORK RECONNECT:
- [ ] Disconnect WiFi → riconnetti → auto-refetch
- [ ] Slow network → graceful degradation
- [ ] Offline → online → sincronizzazione automatica
- [ ] Error handling → retry con backoff

──────────────────────────────────────────────────────────────────────────────
📤 TEST WHATSAPP SHARE
──────────────────────────────────────────────────────────────────────────────

SHARE CONSISTENCY:
- [ ] WhatsApp share → parte al primo tentativo
- [ ] Testo messaggio completo e corretto
- [ ] No delay tra click e share dialog
- [ ] Fallback se share non supportato

GESTURE VALIDATION:
- [ ] Share solo da user click (no programmatic)
- [ ] Dati precostruiti sincronamente
- [ ] Button disabled se dati non ready
- [ ] Error handling graceful

──────────────────────────────────────────────────────────────────────────────
🎨 TEST LAYOUT STABILITY
──────────────────────────────────────────────────────────────────────────────

STABILITÀ PAGINE:
- [ ] Nessun drift/scroll indesiderato durante refetch
- [ ] Solo tabelle/liste scrollano, contenitori fissi
- [ ] Skeleton loading non causa layout shift
- [ ] Placeholder dimensioni stabili

PERFORMANCE:
- [ ] Console pulita, nessun warning
- [ ] Network tab: richieste ottimizzate
- [ ] Memory usage stabile
- [ ] No memory leaks dopo uso prolungato

──────────────────────────────────────────────────────────────────────────────
🔄 TEST CROSS-USER (MULTI-TAB)
──────────────────────────────────────────────────────────────────────────────

REAL-TIME SYNC:
- [ ] User A vota → User B vede aggiornamento
- [ ] Admin avvia voting → tutti vedono CTA
- [ ] Registrazione vino → visibile a tutti
- [ ] Progress bar sincronizzata cross-user

TIMING:
- [ ] Updates entro 60s (heartbeat interval)
- [ ] Focus trigger → immediate sync
- [ ] No conflitti tra utenti
- [ ] Stato consistente tra sessioni

──────────────────────────────────────────────────────────────────────────────
⚡ TEST PERFORMANCE
──────────────────────────────────────────────────────────────────────────────

BUNDLE & BUILD:
- [ ] TypeScript: 0 errori
- [ ] Build time: <5s
- [ ] Bundle size: ~244KB (no regression)
- [ ] Gzipped: ~73KB (stabile)

RUNTIME:
- [ ] App startup: <2s
- [ ] Navigation: <500ms
- [ ] API calls: <1s response
- [ ] Memory: <100MB dopo 30min uso

──────────────────────────────────────────────────────────────────────────────
🧪 TEST EDGE CASES
──────────────────────────────────────────────────────────────────────────────

ERROR SCENARIOS:
- [ ] Server down → graceful error handling
- [ ] Network timeout → retry mechanism
- [ ] Invalid data → validation errors
- [ ] Race conditions → data consistency

BROWSER COMPATIBILITY:
- [ ] Chrome desktop/mobile
- [ ] Safari desktop/mobile
- [ ] Firefox desktop
- [ ] Edge desktop

──────────────────────────────────────────────────────────────────────────────
✅ CHECKLIST COMPLETION
──────────────────────────────────────────────────────────────────────────────

SIGN-OFF CRITERIA:
- [ ] Tutti i test sync PASSED
- [ ] Tutti i test mobile PASSED
- [ ] Tutti i test network PASSED
- [ ] Tutti i test performance PASSED
- [ ] No regressioni rilevate
- [ ] Console pulita
- [ ] Build TypeScript clean

TESTING NOTES:
_________________________________
_________________________________
_________________________________
_________________________________

BUGS FOUND:
_________________________________
_________________________________
_________________________________
_________________________________

FINAL APPROVAL:
- [ ] SYNC OPTIMIZATION PASSED - Ready for Step 4
- [ ] Tester: ________________
- [ ] Date: ________________

═══════════════════════════════════════════════════════════════════════════════
🏁 FINE CHECKLIST - STEP 3 SYNC OPTIMIZATION TESTING
═══════════════════════════════════════════════════════════════════════════════
