PUT PERMISSIONS TEST - UTENTE NON AUTORIZZATO
=============================================

PRODUZIONE:
Command: curl -i -X PUT -H "Content-Type: application/json" -d '{"content":"Test content","userId":999}' https://diagonals.onrender.com/api/events/3/pagella
Date: 19/09/2025 18:33

HTTP/2 403 
date: Fri, 19 Sep 2025 16:33:28 GMT
content-type: application/json; charset=utf-8
etag: W/"3b-iPd1/ePv2uBYi2PcayWjMx12n/c"
rndr-id: 658160ad-9a1d-45b3
vary: Accept-Encoding
x-powered-by: Express
x-render-origin-server: Render
cf-cache-status: DYNAMIC
server: cloudflare
cf-ray: 981a7c277807ea38-FCO
alt-svc: h3=":443"; ma=86400

{"error":"Forbidden: only DERO and TOMMY can edit pagella"}

ESITO PROD: ✅ 403 Forbidden (corretto)

---

LOCALHOST:
Command: curl -i -X PUT -H "Content-Type: application/json" -d '{"content":"Test content","userId":999}' http://localhost:3000/api/events/3/pagella
Date: 19/09/2025 18:33

HTTP/1.1 403 Forbidden
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 59
ETag: W/"3b-iPd1/ePv2uBYi2PcayWjMx12n/c"
Date: Fri, 19 Sep 2025 16:33:31 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{"error":"Forbidden: only DERO and TOMMY can edit pagella"}

ESITO LOCAL: ✅ 403 Forbidden (corretto)

CONCLUSIONE: ✅ I permessi funzionano correttamente sia in prod che in local
- Utenti non autorizzati ricevono 403
- Messaggio di errore chiaro e specifico
- Comportamento identico tra ambienti
