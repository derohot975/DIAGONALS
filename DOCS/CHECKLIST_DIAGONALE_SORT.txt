═══════════════════════════════════════════════════════════════════════════════
🧪 CHECKLIST DIAGONALE - ORDINAMENTO CARDS + PERSISTENZA LOGIN (STEP 5)
═══════════════════════════════════════════════════════════════════════════════
Data: 30/09/2025 16:14
Scope: Test manuali per ordinamento cards e persistenza login
Status: READY FOR TESTING

──────────────────────────────────────────────────────────────────────────────
🔧 SETUP TESTING
──────────────────────────────────────────────────────────────────────────────

PREREQUISITI:
✅ App avviata in locale: npm run dev
✅ Browser DevTools aperto (Console + Network)
- [ ] Test su Chrome/Safari desktop + mobile simulator
- [ ] Evento con vini di tipologie diverse per test ordinamento

──────────────────────────────────────────────────────────────────────────────
🎯 TEST ORDINAMENTO CARDS
──────────────────────────────────────────────────────────────────────────────

SEQUENZA ORDINAMENTO:
- [ ] Modalità votazione: ordine = Bollicine → Bianchi → Rossi → Altro
- [ ] A parità di tipologia: gradazione crescente (12.5° prima di 14.0°)
- [ ] Vini senza gradazione: posizionati dopo quelli con gradazione nota
- [ ] A parità: anno crescente (2020 prima di 2022)
- [ ] Vini senza anno: posizionati dopo quelli con anno noto
- [ ] Ordinamento stabile: stesso ordine tra refresh

STABILITÀ UI:
- [ ] Nessun drift al touch durante scroll
- [ ] Layout cards immutato (altezza, padding, margini)
- [ ] Scrolling solo su lista vini, pagina fissa
- [ ] Performance: no lag visibile durante ordinamento
- [ ] Key React stabili: no "salti" di componenti

──────────────────────────────────────────────────────────────────────────────
🔐 TEST PERSISTENZA LOGIN
──────────────────────────────────────────────────────────────────────────────

FLUSSO ADMIN↔HOME:
- [ ] Login utente normale → accesso a modalità votazione
- [ ] Passa ad Admin (inserisci PIN) → sezione admin accessibile
- [ ] Torna a Home → utente rimane loggato (no re-login richiesto)
- [ ] Dati sincronizzati: vini/voti/eventi visibili immediatamente
- [ ] Heartbeat attivo: sessione mantenuta in background

EDGE CASES:
- [ ] Multiple route changes: Admin→Home→Admin→Home (no logout)
- [ ] Session timeout naturale: logout corretto dopo 60s+ inattività
- [ ] Logout esplicito: cleanup completo + redirect ad auth
- [ ] Refresh browser: sessione persa (comportamento normale)

──────────────────────────────────────────────────────────────────────────────
📱 TEST MOBILE & PERFORMANCE
──────────────────────────────────────────────────────────────────────────────

MOBILE BEHAVIOR:
- [ ] Ordinamento corretto su iOS Safari
- [ ] Ordinamento corretto su Android Chrome
- [ ] Touch scroll fluido su lista ordinata
- [ ] No reflow/repaint durante sort

PERFORMANCE:
- [ ] Console pulita, nessun warning
- [ ] Network tab: no richieste extra per sorting
- [ ] Memory usage stabile durante sort
- [ ] Build time: ≤3s, bundle size stabile

──────────────────────────────────────────────────────────────────────────────
🔄 TEST REGRESSIONI
──────────────────────────────────────────────────────────────────────────────

FUNZIONALITÀ ESISTENTI:
- [ ] Voto singolo: funziona correttamente
- [ ] Progress bar: aggiornamento real-time
- [ ] Navigation: Back/Home/Admin buttons
- [ ] Modali: apertura/chiusura voto picker
- [ ] Sync: invalidazioni query funzionanti

LAYOUT & STYLING:
- [ ] Colori cards: invariati
- [ ] Typography: invariata
- [ ] Spacing: invariato
- [ ] Icons: posizione e dimensioni corrette
- [ ] Bottom nav: regola Home⇠|⇢Admin rispettata

──────────────────────────────────────────────────────────────────────────────
🧪 TEST SPECIFICI ORDINAMENTO
──────────────────────────────────────────────────────────────────────────────

SCENARIO TEST 1 - TIPOLOGIE MISTE:
- [ ] Crea evento con: 1 Bollicina, 2 Bianchi, 2 Rossi, 1 Altro
- [ ] Verifica ordine: Bollicina prima, poi Bianchi, poi Rossi, poi Altro

SCENARIO TEST 2 - GRADAZIONI:
- [ ] Bianchi con gradazioni: 11.5°, 13.0°, 12.0°
- [ ] Verifica ordine: 11.5° → 12.0° → 13.0°
- [ ] Bianco senza gradazione: posizionato ultimo tra i bianchi

SCENARIO TEST 3 - ANNI:
- [ ] Rossi stessa gradazione: 2019, 2021, 2020
- [ ] Verifica ordine: 2019 → 2020 → 2021
- [ ] Rosso senza anno: posizionato ultimo tra i rossi

SCENARIO TEST 4 - STABILITÀ:
- [ ] Refresh pagina: stesso ordinamento
- [ ] Aggiungi voto: ordinamento preservato
- [ ] Switch user: ordinamento coerente

──────────────────────────────────────────────────────────────────────────────
🔐 TEST SPECIFICI PERSISTENZA
──────────────────────────────────────────────────────────────────────────────

SCENARIO AUTH 1 - FLUSSO NORMALE:
- [ ] Login DERO → Home screen
- [ ] Click Admin → PIN modal → Admin screen
- [ ] Click Home → ritorna a Home senza re-login
- [ ] Vini/eventi visibili immediatamente

SCENARIO AUTH 2 - MULTIPLE SWITCHES:
- [ ] Login TOMMY → Home → Admin → Home → Admin → Home
- [ ] Nessun re-login richiesto in tutto il flusso
- [ ] Dati sempre sincronizzati

SCENARIO AUTH 3 - HEARTBEAT:
- [ ] Login → aspetta 70s senza interazione
- [ ] Heartbeat dovrebbe mantenere sessione attiva
- [ ] Solo dopo timeout server → logout automatico

SCENARIO AUTH 4 - LOGOUT ESPLICITO:
- [ ] Login → Admin → Logout button
- [ ] Redirect ad AuthScreen
- [ ] Heartbeat cleanup completato

──────────────────────────────────────────────────────────────────────────────
⚡ TEST PERFORMANCE & QUALITY
──────────────────────────────────────────────────────────────────────────────

BUILD & BUNDLE:
- [ ] TypeScript: 0 errori
- [ ] ESLint: 0 warning
- [ ] Bundle size: ~240KB (no regression)
- [ ] Build time: <3s

RUNTIME:
- [ ] App startup: <2s
- [ ] Sort operation: <100ms perceived
- [ ] Memory leaks: none after 10min uso
- [ ] Console errors: 0

ACCESSIBILITY:
- [ ] Screen reader: ordinamento annunciato correttamente
- [ ] Keyboard navigation: funzionante
- [ ] Focus management: preservato durante sort
- [ ] Color contrast: invariato

──────────────────────────────────────────────────────────────────────────────
✅ CHECKLIST COMPLETION
──────────────────────────────────────────────────────────────────────────────

SIGN-OFF CRITERIA:
- [ ] Tutti i test ordinamento PASSED
- [ ] Tutti i test persistenza PASSED
- [ ] Tutti i test performance PASSED
- [ ] Tutti i test regressioni PASSED
- [ ] Console pulita
- [ ] Build TypeScript clean

TESTING NOTES:
_________________________________
_________________________________
_________________________________
_________________________________

BUGS FOUND:
_________________________________
_________________________________
_________________________________
_________________________________

FINAL APPROVAL:
- [ ] STEP 5 SORTING + AUTH PASSED - Ready for Step 6
- [ ] Tester: ________________
- [ ] Date: ________________

═══════════════════════════════════════════════════════════════════════════════
🏁 FINE CHECKLIST - STEP 5 SORTING + AUTH PERSISTENCE TESTING
═══════════════════════════════════════════════════════════════════════════════
